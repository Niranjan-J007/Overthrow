/*! overthrow - An overflow:auto polyfill for responsive design. - v0.6.6 - 2013-10-17
* Copyright (c) 2013 Scott Jehl, Filament Group, Inc.; Licensed MIT */
!function(a){var b=a.document,c=b.documentElement,d="overthrow-enabled",e="ontouchmove"in b,f="WebkitOverflowScrolling"in c.style||"msOverflowStyle"in c.style||!e&&a.screen.width>800||function(){var b=a.navigator.userAgent,c=b.match(/AppleWebKit\/([0-9]+)/),d=c&&c[1],e=c&&d>=534;return b.match(/Android ([0-9]+)/)&&RegExp.$1>=3&&e||b.match(/ Version\/([0-9]+)/)&&RegExp.$1>=0&&a.blackberry&&e||b.indexOf("PlayBook")>-1&&e&&-1===!b.indexOf("Android 2")||b.match(/Firefox\/([0-9]+)/)&&RegExp.$1>=4||b.match(/wOSBrowser\/([0-9]+)/)&&RegExp.$1>=233&&e||b.match(/NokiaBrowser\/([0-9\.]+)/)&&7.3===parseFloat(RegExp.$1)&&c&&d>=533}();a.overthrow={},a.overthrow.enabledClassName=d,a.overthrow.addClass=function(){-1===c.className.indexOf(a.overthrow.enabledClassName)&&(c.className+=" "+a.overthrow.enabledClassName)},a.overthrow.removeClass=function(){c.className=c.className.replace(a.overthrow.enabledClassName,"")},a.overthrow.set=function(){f&&a.overthrow.addClass()},a.overthrow.canBeFilledWithPoly=e,a.overthrow.forget=function(){a.overthrow.removeClass()},a.overthrow.support=f?"native":"none"}(this),function(a,b,c){if(b!==c){b.easing=function(a,b,c,d){return c*((a=a/d-1)*a*a+1)+b},b.tossing=!1;var d;b.toss=function(a,e){b.intercept();var f,g,h=0,i=a.scrollLeft,j=a.scrollTop,k={top:"+0",left:"+0",duration:50,easing:b.easing};if(e)for(var l in k)e[l]!==c&&(k[l]=e[l]);return"string"==typeof k.left?(k.left=parseFloat(k.left),f=k.left+i):(f=k.left,k.left=k.left-i),"string"==typeof k.top?(k.top=parseFloat(k.top),g=k.top+j):(g=k.top,k.top=k.top-j),b.tossing=!0,d=setInterval(function(){h++<k.duration?(a.scrollLeft=k.easing(h,i,k.left,k.duration),a.scrollTop=k.easing(h,j,k.top,k.duration)):(f!==a.scrollLeft&&(a.scrollLeft=f),g!==a.scrollTop&&(a.scrollTop=g),b.intercept())},1),{top:g,left:f,duration:b.duration,easing:b.easing}},b.intercept=function(){clearInterval(d),b.tossing=!1}}}(this,this.overthrow),function(a,b,c){if(b!==c){b.scrollIndicatorClassName="overthrow";var d=a.document,e=d.documentElement,f="native"===b.support,g=b.canBeFilledWithPoly,h=(b.configure,b.set),i=b.forget,j=b.scrollIndicatorClassName;b.closest=function(a,c){return!c&&a.className&&a.className.indexOf(j)>-1&&a||b.closest(a.parentNode)};var k=!1;b.set=function(){if(h(),!k&&!f&&g){a.overthrow.addClass(),k=!0,b.support="polyfilled",b.forget=function(){i(),k=!1,d.removeEventListener&&d.removeEventListener("touchstart",u,!1)};var j,l,m,n,o=[],p=[],q=function(){o=[],l=null},r=function(){p=[],m=null},s=function(a){n=j.querySelectorAll("textarea, input");for(var b=0,c=n.length;c>b;b++)n[b].style.pointerEvents=a},t=function(a,b){if(d.createEvent){var e,f=(!b||b===c)&&j.parentNode||j.touchchild||j;f!==j&&(e=d.createEvent("HTMLEvents"),e.initEvent("touchend",!0,!0),j.dispatchEvent(e),f.touchchild=j,j=f,f.dispatchEvent(a))}},u=function(a){if(b.intercept&&b.intercept(),q(),r(),j=b.closest(a.target),j&&j!==e&&!(a.touches.length>1)){s("none");var c=a,d=j.scrollTop,f=j.scrollLeft,g=j.offsetHeight,h=j.offsetWidth,i=a.touches[0].pageY,k=a.touches[0].pageX,n=j.scrollHeight,u=j.scrollWidth,v=function(a){var b=d+i-a.touches[0].pageY,e=f+k-a.touches[0].pageX,s=b>=(o.length?o[0]:0),v=e>=(p.length?p[0]:0);b>0&&n-g>b||e>0&&u-h>e?a.preventDefault():t(c),l&&s!==l&&q(),m&&v!==m&&r(),l=s,m=v,j.scrollTop=b,j.scrollLeft=e,o.unshift(b),p.unshift(e),o.length>3&&o.pop(),p.length>3&&p.pop()},w=function(){s("auto"),setTimeout(function(){s("none")},450),j.removeEventListener("touchmove",v,!1),j.removeEventListener("touchend",w,!1)};j.addEventListener("touchmove",v,!1),j.addEventListener("touchend",w,!1)}};d.addEventListener("touchstart",u,!1)}}}}(this,this.overthrow),function(a){a.overthrow.set()}(this),function(a,b){if(b&&!(!1 in a.document)){if(b.sidescroller=function(c,d){var e=c,f="overthrow",g=f+"-next",h=f+"-prev",i=f+"-method",j=f+"-refresh",k=f+"-resize",l=d&&d.snapScroll,m=d&&d.rewind,n=d&&void 0!==d.snapTolerance?d.snapTolerance:30,o=arguments;d=d||{};for(var p=0;p<e.length;p++)!function(){function c(){for(var a=A.querySelectorAll("li"),b=100/a.length+"%",c=0;c<a.length;c++)a[c].style.width=b}function q(){var a=A.querySelectorAll("li"),b=A.querySelector("ul");b.style.width=a[0].offsetWidth*a.length+"px"}function r(a){a&&a.fixedItemWidth?q():c(),b.sidescroller.sendEvent(z,j,{},z.ieID)}function s(a){var b=A.querySelectorAll("li"),c=b.length,d=A.offsetWidth,e=b[0].offsetWidth,f=void 0!==a?a:A.scrollLeft,g=Math.round(f/e),h=10,i=[];g=Math.max(0,g),g=Math.min(c,g),i.push(g);for(var j=2;c>j;j++)d+h>j*e&&i.push(g+j-1);return C=g,i}function t(a,b){var c=1;return b&&b.slideLength&&(c="all"===b.slideLength?a.length:parseInt(b.slideLength,10)),isNaN(c)&&(c=1),c}function u(c){var e=c||a.event;if(e.preventDefault?e.preventDefault():e.returnValue=!1,"keydown"===e.type||E===!1||E===e.type){E=e.type,b.intercept();var f=A.querySelectorAll("li"),i=e.target||e.srcElement,j=A.offsetWidth,k=f[0].offsetWidth,l=A.scrollLeft,n=Math.round(l/k),o="keydown"!==e.type&&i.className.indexOf("next")>-1||39===e.keyCode,p=t(s(),d),q=n+(o?p:-p),r=k*q,u=A.scrollWidth-j;if(i&&"A"!==i.nodeName)return;m?0>r?r=u:r>u&&(r=0):0>r?r=0:r>u&&(r=u);var v=s(r);v[v.length-1]==f.length-1&&(r=A.querySelector("ul").offsetWidth-j),(v[0]!==n||r!==l)&&(b.toss(A,{left:r,easing:d.easing}),b.sidescroller.sendEvent(z,o?g:h,{active:v,originalEvent:e},D)),setTimeout(function(){E=!1},900)}}function v(a){b.intercept();var c=A.querySelector("li").offsetWidth,e=A.scrollLeft,f=Math.round(e/c);if(I!==!1){var i=e-I;Math.abs(i)>n&&(f=C+(i>0?1:-1))}var j=c*f;b.toss(A,{left:j,duration:20,easing:d.easing}),C!==f&&(b.sidescroller.sendEvent(z,f>C?g:h,{active:s(j),originalEvent:a},D),C=f)}function w(a){clearTimeout(G),G=setTimeout(function(){b.sidescroller.sendEvent(z,f+"-resize",{},z.ieID),v(a)},100)}function x(a){clearTimeout(H),H=setTimeout(function(){I===!1&&(I=A.scrollLeft),l?v(a):b.sidescroller.sendEvent(z,f+"-scroll",{},D),I=!1},200)}function y(a){(39===a.keyCode||37===a.keyCode)&&u(a)}var z=e[p],A=e[p].querySelector(".overthrow"),B=a.document.createElement("div"),C=0,D="overthrow"+(new Date).getTime(),E=!1,F="<a href='#' class='sidescroll-prev'>Previous</a><a href='#' class='sidescroll-next'>Next</a>";if("string"==typeof d&&z.options)return b.sidescroller.sendEvent(z,i,{name:d,arguments:Array.prototype.slice.call(o,2)},z.ieID),r(z.options),void 0;if(!z.initialized){z.initialized=!0,z.options=d,z.setAttribute("tabindex","0"),a.document.attachEvent&&(a.document.documentElement[h]=0,a.document.documentElement[g]=0,a.document.documentElement[i]=0,a.document.documentElement[j]=0,a.document.documentElement[k]=0,a.document.documentElement[D]={},a.document.documentElement[D][h]={},a.document.documentElement[D][g]={},a.document.documentElement[D][i]={},a.document.documentElement[D][j]={},a.document.documentElement[D][k]={},z.ieID=D),B.className="sidescroll-nextprev-links",B.innerHTML=F,z.getActiveSlides=s;var G,H,I=!1;a.document.addEventListener?(B.addEventListener("click",u,!1),B.addEventListener("touchend",u,!1),a.addEventListener("resize",w,!1),e[p].addEventListener("keydown",y,!1),A.addEventListener("scroll",x,!1)):a.document.attachEvent&&(B.attachEvent("onclick",u,!1),a.attachEvent("onresize",w,!1),e[p].attachEvent("onkeydown",y,!1),A.attachEvent("onscroll",x,!1)),z.insertBefore(B,A),r(d),b.sidescroller.sendEvent(a.document.documentElement,f+"-init",{sideScroll:z,options:d},a.document.documentElement.ieID)}}()},a.document.attachEvent){var c="overthrow-init"+(new Date).getTime();a.document.documentElement[c]={},a.document.documentElement[c]["overthrow-init"]=0,a.document.documentElement.ieID=c}b.sidescroller.sendEvent=function(b,c,d,e){if(document.createEvent){var f=document.createEvent("Event");f.initEvent(c,!0,!0),f.overthrow=d,b.dispatchEvent(f)}else a.document.documentElement[e][c]={e:c,overthrow:d},a.document.documentElement[c]++},b.sidescroller.onEvent=function(b,c,d){function e(a){var e={type:b,target:c,overthrow:a.overthrow};d(e)}a.document.addEventListener?c.addEventListener(b,e):a.document.attachEvent&&a.document.documentElement.attachEvent("onpropertychange",function(d){d.propertyName===b&&e(a.document.documentElement[c.ieID][b])})}}}(this,this.overthrow);